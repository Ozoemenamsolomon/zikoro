"use client";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { useGetCertificates } from "@/hooks/services/certificate";
import { format } from "date-fns";
import { useRouter } from "next/navigation";
import React from "react";

const Certificates = () => {
  const router = useRouter();

  const { certificates, isLoading } = useGetCertificates();

  console.log(certificates);

  if ((certificates && certificates.length === 0) || isLoading)
    return (
      <div className="flex flex-col h-96 w-full items-center justify-center gap-2">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width={65}
          height={64}
          viewBox="0 0 65 64"
          fill="none"
        >
          <g
            style={{ mixBlendMode: "luminosity" }}
            clipPath="url(#clip0_12419_23693)"
          >
            <path
              d="M56.7207 28.9544L52.1855 32.0882L47.9229 28.1379L45.9069 23.0179L50.4421 19.873L54.6308 23.7241L56.7207 28.9544Z"
              fill="#BDC3C7"
            />
            <path
              d="M42.431 44.6898V59.0346C42.4274 60.2519 41.4415 61.2379 40.2241 61.2415H2.7069C1.48957 61.2379 0.503636 60.2519 0.5 59.0346V18.207H42.431V44.6898Z"
              fill="#F5EFCA"
            />
            <path
              d="M26.9827 55.7245H7.12066C6.51124 55.7245 6.01721 55.2304 6.01721 54.621C6.01721 54.0116 6.51124 53.5176 7.12066 53.5176H26.9827C27.5921 53.5176 28.0862 54.0116 28.0862 54.621C28.0862 55.2304 27.5921 55.7245 26.9827 55.7245Z"
              fill="#CBB292"
            />
            <path
              d="M63.0766 24.5628L56.7207 28.9545L50.4421 19.8731L56.7979 15.4814C58.3005 14.4441 60.3593 14.8193 61.3993 16.32L63.9152 19.9503C64.9535 21.4564 64.5786 23.5186 63.0766 24.5628Z"
              fill="#FF5364"
            />
            <path
              d="M23.5069 48.8277L18.2545 50.0967C17.813 50.2007 17.3528 50.0239 17.0945 49.651C16.8362 49.2782 16.8323 48.7852 17.0848 48.4084L20.1303 43.9395L23.5069 48.8277Z"
              fill="#464F5D"
            />
            <path
              d="M52.1855 32.0884C28.9292 48.1745 30.5039 47.103 30.3924 47.1394L24.1359 38.0912C24.265 37.9621 23.0324 38.8283 45.9069 23.0181L52.1855 32.0884Z"
              fill="#3B97D3"
            />
            <path
              d="M30.3924 47.1396C30.1795 47.2499 29.62 47.3481 23.5069 48.8279L20.1304 43.9396C24.2264 37.9181 24.0101 38.2171 24.1359 38.0913L30.3924 47.1396Z"
              fill="#FDD7AD"
            />
            <path
              d="M32.3345 28.138H7.12066C6.51124 28.138 6.01721 27.644 6.01721 27.0346C6.01721 26.4252 6.51124 25.9312 7.12066 25.9312H32.3345C32.9439 25.9312 33.4379 26.4252 33.4379 27.0346C33.4379 27.644 32.9439 28.138 32.3345 28.138Z"
              fill="#CBB292"
            />
            <path
              d="M24.3565 33.6551H7.12066C6.51124 33.6551 6.01721 33.1611 6.01721 32.5517C6.01721 31.9423 6.51124 31.4482 7.12066 31.4482H24.3565C24.9659 31.4482 25.46 31.9423 25.46 32.5517C25.46 33.1611 24.9659 33.6551 24.3565 33.6551Z"
              fill="#CBB292"
            />
            <path
              d="M18.7841 39.1727H7.12066C6.51124 39.1727 6.01721 38.6787 6.01721 38.0693C6.01721 37.4599 6.51124 36.9658 7.12066 36.9658H18.7841C19.3935 36.9658 19.8876 37.4599 19.8876 38.0693C19.8876 38.6787 19.3935 39.1727 18.7841 39.1727Z"
              fill="#CBB292"
            />
            <path
              d="M15.0213 44.6898H7.12066C6.51124 44.6898 6.01721 44.1958 6.01721 43.5864C6.01721 42.9769 6.51124 42.4829 7.12066 42.4829H15.0213C15.6308 42.4829 16.1248 42.9769 16.1248 43.5864C16.1248 44.1958 15.6308 44.6898 15.0213 44.6898Z"
              fill="#CBB292"
            />
            <path
              d="M12.4613 50.2069H7.12066C6.51124 50.2069 6.01721 49.7129 6.01721 49.1034C6.01721 48.494 6.51124 48 7.12066 48H12.4613C13.0708 48 13.5648 48.494 13.5648 49.1034C13.5648 49.7129 13.0708 50.2069 12.4613 50.2069Z"
              fill="#CBB292"
            />
            <path
              d="M38.0172 9.37939C40.4549 9.37939 42.431 11.3555 42.431 13.7932V20.4139H0.5V13.7932C0.5 11.3555 2.47612 9.37939 4.91379 9.37939H38.0172Z"
              fill="#FF5364"
            />
            <path
              d="M36.9138 56.8278H33.6034C32.994 56.8278 32.5 56.3338 32.5 55.7243C32.5 55.1149 32.994 54.6209 33.6034 54.6209H35.8103V52.414C35.8103 51.8046 36.3044 51.3105 36.9138 51.3105C37.5232 51.3105 38.0172 51.8046 38.0172 52.414V55.7243C38.0172 56.3338 37.5232 56.8278 36.9138 56.8278Z"
              fill="#CBB292"
            />
            <path
              d="M38.0172 9.37948C38.0172 13.0871 36.0752 16.0002 33.6034 16.0002C32.994 16.0002 32.5 15.5061 32.5 14.8967C32.5 14.2873 32.994 13.7933 33.6034 13.7933C34.6407 13.7933 35.8103 11.9064 35.8103 9.37948C35.8103 6.85258 34.6407 4.96569 33.6034 4.96569C32.5662 4.96569 31.3965 6.85258 31.3965 9.37948H29.1896C29.1896 5.67189 31.1317 2.75879 33.6034 2.75879C36.0752 2.75879 38.0172 5.67189 38.0172 9.37948Z"
              fill="#BDC3C7"
            />
            <path
              d="M25.8793 9.37948C25.8793 13.0871 23.9372 16.0002 21.4655 16.0002C20.8561 16.0002 20.362 15.5061 20.362 14.8967C20.362 14.2873 20.8561 13.7933 21.4655 13.7933C22.5027 13.7933 23.6724 11.9064 23.6724 9.37948C23.6724 6.85258 22.5027 4.96569 21.4655 4.96569C20.4282 4.96569 19.2586 6.85258 19.2586 9.37948H17.0517C17.0517 5.67189 18.9938 2.75879 21.4655 2.75879C23.9372 2.75879 25.8793 5.67189 25.8793 9.37948Z"
              fill="#BDC3C7"
            />
            <path
              d="M13.7414 9.37948C13.7414 13.0871 11.7993 16.0002 9.32761 16.0002C8.71819 16.0002 8.22416 15.5061 8.22416 14.8967C8.22416 14.2873 8.71819 13.7933 9.32761 13.7933C10.3649 13.7933 11.5345 11.9064 11.5345 9.37948C11.5345 6.85258 10.3649 4.96569 9.32761 4.96569C8.29037 4.96569 7.12071 6.85258 7.12071 9.37948H4.91382C4.91382 5.67189 6.85589 2.75879 9.32761 2.75879C11.7993 2.75879 13.7414 5.67189 13.7414 9.37948Z"
              fill="#BDC3C7"
            />
          </g>
          <defs>
            <clipPath id="clip0_12419_23693">
              <rect
                width={64}
                height={64}
                fill="white"
                transform="translate(0.5)"
              />
            </clipPath>
          </defs>
        </svg>

        <p className="text-sm px-2 font-medium text-gray-700 text-center w-1/2">
          There are no created certificates.
        </p>

        <Button
          className="bg-basePrimary flex gap-4 items-center"
          onClick={() => router.push("/content/certificate/create")}
        >
          <svg
            stroke="currentColor"
            fill="currentColor"
            strokeWidth={0}
            viewBox="0 0 1024 1024"
            height="1.5em"
            width="1.5em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z" />
            <path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" />
          </svg>
          <span>Certificate</span>
        </Button>
      </div>
    );

  return (
    <div className="flex flex-col gap-2 px-2 py-4">
      <Button
        className="bg-basePrimary flex gap-4 items-center self-end w-fit"
        onClick={() => router.push("/content/certificate/create")}
      >
        <svg
          stroke="currentColor"
          fill="currentColor"
          strokeWidth={0}
          viewBox="0 0 1024 1024"
          height="1.5em"
          width="1.5em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z" />
          <path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" />
        </svg>
        <span>Certificate</span>
      </Button>
      <div className="grid-cols-4 grid gap-4">
        {certificates?.map(
          ({ cerificateUrl, certificateName, created_at, id }) => (
            <button
              className="border border-gray-200 rounded-md"
              onClick={() =>
                router.push(`/content/certificate/create?certificateId=${id}`)
              }
            >
              <div className="w-full h-[250px] overflow-hidden">
                <img className="object-fill" src={cerificateUrl || ""} />
              </div>
              <div className="space-y-1 px-4 py-2 border-t border-gray-200">
                <h2 className="text-gray-800 font-bold text-left">
                  {certificateName}
                </h2>
                <div className="flex gap-2 items-center text-sm text-gray-600 font-medium">
                  <svg
                    stroke="currentColor"
                    fill="currentColor"
                    strokeWidth={0}
                    viewBox="0 0 16 16"
                    height="1em"
                    width="1em"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fillRule="evenodd"
                      d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.995-.944v-.002.002zM7.022 13h7.956a.274.274 0 00.014-.002l.008-.002c-.002-.264-.167-1.03-.76-1.72C13.688 10.629 12.718 10 11 10c-1.717 0-2.687.63-3.24 1.276-.593.69-.759 1.457-.76 1.72a1.05 1.05 0 00.022.004zm7.973.056v-.002.002zM11 7a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0zM6.936 9.28a5.88 5.88 0 00-1.23-.247A7.35 7.35 0 005 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 015 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10c-1.668.02-2.615.64-3.16 1.276C1.163 11.97 1 12.739 1 13h3c0-1.045.323-2.086.92-3zM1.5 5.5a3 3 0 116 0 3 3 0 01-6 0zm3-2a2 2 0 100 4 2 2 0 000-4z"
                      clipRule="evenodd"
                    />
                  </svg>
                  <span>Event Attendees</span>
                </div>
                <div className="flex">
                  <span className="text-tiny font-medium text-gray-500">
                    {format(new Date(created_at), "dd MMMM, yyyy")}
                  </span>
                </div>
              </div>
            </button>
          )
        )}
      </div>
    </div>
  );
};

export default Certificates;
